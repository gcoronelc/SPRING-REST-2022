
DROP DATABASE IF EXISTS JPA_RELACIONES;

CREATE DATABASE JPA_RELACIONES;

USE JPA_RELACIONES;


CREATE TABLE ESTUDIANTE
(
	EST_ID                INTEGER NOT NULL AUTO_INCREMENT,
	EST_NOMBRE            VARCHAR(50) NOT NULL,
	PRIMARY KEY (EST_ID)
) ENGINE = INNODB;



CREATE TABLE ORGANIZACION
(
	ORG_ID                INTEGER AUTO_INCREMENT,
	ORG_NOMBRE            VARCHAR(50) NOT NULL,
	PRIMARY KEY (ORG_ID)
) ENGINE = INNODB;



CREATE TABLE PROYECTO
(
	PRO_ID                INTEGER AUTO_INCREMENT,
	ORG_ID                INTEGER NOT NULL,
	PRO_NOMBRE            VARCHAR(50) NOT NULL,
	EST_ID                INTEGER NULL,
	PRIMARY KEY (PRO_ID)
) ENGINE = INNODB;



ALTER TABLE PROYECTO
	ADD FOREIGN KEY R_1 (ORG_ID) REFERENCES ORGANIZACION(ORG_ID);


ALTER TABLE PROYECTO
	ADD FOREIGN KEY R_2 (EST_ID) REFERENCES ESTUDIANTE(EST_ID);


